{% load static filial_tags %}


<div class="modal modal_city">
	<div class="modal__wrapper">
		<button class="modal__close-city" type="button">
			<svg width="24" height="24"
				viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<g clip-path="url(#clip0_163_3637)">
					<path
						d="M12.94 12L18.4667 6.47336C18.5759 6.34582 18.633 6.18177 18.6265 6.01399C18.62 5.8462 18.5504 5.68704 18.4317 5.56831C18.313 5.44958 18.1538 5.38003 17.986 5.37355C17.8183 5.36707 17.6542 5.42414 17.5267 5.53336L12 11.06L6.47334 5.52669C6.3478 5.40115 6.17754 5.33063 6 5.33063C5.82247 5.33063 5.6522 5.40115 5.52667 5.52669C5.40113 5.65222 5.33061 5.82249 5.33061 6.00002C5.33061 6.17756 5.40113 6.34782 5.52667 6.47336L11.06 12L5.52667 17.5267C5.45688 17.5865 5.4002 17.66 5.36019 17.7427C5.32017 17.8254 5.29768 17.9155 5.29414 18.0073C5.29059 18.0991 5.30606 18.1907 5.33958 18.2762C5.37309 18.3618 5.42393 18.4395 5.4889 18.5045C5.55387 18.5694 5.63157 18.6203 5.71712 18.6538C5.80267 18.6873 5.89423 18.7028 5.98604 18.6992C6.07785 18.6957 6.16794 18.6732 6.25065 18.6332C6.33336 18.5932 6.4069 18.5365 6.46667 18.4667L12 12.94L17.5267 18.4667C17.6542 18.5759 17.8183 18.633 17.986 18.6265C18.1538 18.62 18.313 18.5505 18.4317 18.4317C18.5504 18.313 18.62 18.1538 18.6265 17.9861C18.633 17.8183 18.5759 17.6542 18.4667 17.5267L12.94 12Z"
						fill="#021549"></path>
				</g>
				<defs>
					<clipPath id="clip0_163_3637">
						<rect width="24" height="24" fill="white"></rect>
					</clipPath>
				</defs>
			</svg>		
		</button>
		<div class="modal__title">Выберите город</div>
		<p class="modal__subtitle">Найдите свой город с помощью поиска или в списке популярных городов</p>
		<div class="city__search">
			<svg width="22" height="22" viewBox="0 0 22 22" fill="none"
				xmlns="http://www.w3.org/2000/svg">
				<path
					d="M9.00005 16.4001C10.5976 16.3999 12.149 15.8651 13.4073 14.8809L17.3637 18.8373L18.6363 17.5647L14.6799 13.6083C15.6647 12.3498 16.1998 10.798 16.2 9.20006C16.2 5.23016 12.9699 2.00006 9.00005 2.00006C5.03015 2.00006 1.80005 5.23016 1.80005 9.20006C1.80005 13.17 5.03015 16.4001 9.00005 16.4001ZM9.00005 3.80006C11.9781 3.80006 14.4 6.22196 14.4 9.20006C14.4 12.1782 11.9781 14.6001 9.00005 14.6001C6.02195 14.6001 3.60005 12.1782 3.60005 9.20006C3.60005 6.22196 6.02195 3.80006 9.00005 3.80006Z"
					fill="#850003"></path>
			</svg>
			<input class="city__input" id="citySearch" type="text" placeholder="Ваш город" autocomplete="off">
			<button class="city__clear" id="cityClear" type="button">
				<svg
					width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path
						d="M15.3752 6.6248C15.5042 6.75373 15.5766 6.9286 15.5766 7.11093C15.5766 7.29327 15.5042 7.46814 15.3752 7.59707L11.9723 11L15.3752 14.403C15.5042 14.5319 15.5766 14.7068 15.5766 14.8891C15.5766 15.0714 15.5042 15.2463 15.3752 15.3752C15.2463 15.5042 15.0714 15.5766 14.8891 15.5766C14.7068 15.5766 14.5319 15.5042 14.403 15.3752L11 11.9723L7.59705 15.3752C7.46812 15.5042 7.29325 15.5766 7.11091 15.5766C6.92858 15.5766 6.75371 15.5042 6.62478 15.3752C6.49585 15.2463 6.42341 15.0714 6.42341 14.8891C6.42341 14.7068 6.49585 14.5319 6.62478 14.403L10.0277 11L6.62478 7.59707C6.49585 7.46814 6.42341 7.29327 6.42341 7.11093C6.42341 6.9286 6.49585 6.75373 6.62478 6.6248C6.75371 6.49586 6.92858 6.42343 7.11091 6.42343C7.29325 6.42343 7.46812 6.49586 7.59705 6.6248L11 10.0277L14.403 6.6248C14.5319 6.49586 14.7068 6.42343 14.8891 6.42343C15.0714 6.42343 15.2463 6.49586 15.3752 6.6248Z"
						fill="#8B8B91"></path>
				</svg>
			</button>
		</div>

        {% with popular_cities=all_filials %}
            {% if popular_cities %}
                <div class="city__heading">Популярные города</div>
                <div class="city__list" id="cityList">
                    {% for filial in popular_cities %}
                        {% if filial == current_filial %}
                            <span class="active" data-city="{{ filial.name }}">{{ filial.name }}</span>
                        {% else %}
                            <a href="{% get_filial_url filial %}" data-city="{{ filial.name }}">{{ filial.name }}</a>
                        {% endif %}
                    {% endfor %}
					<div class="city__no-results" style="display: none;">Город не найден</div>
				</div>
            {% endif %}
        {% endwith %}
	</div>
</div>